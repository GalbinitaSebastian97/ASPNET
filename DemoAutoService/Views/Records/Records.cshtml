@model List<RecordsDatabaseClassLibrary.RecordsDatabase.IRecordModel>

@{
    ViewData["Title"] = "Records List";
}


<body>
    <div class="container">

        <br /><br />
        <div class="row">
            <div class="col-6 col-md">
                <div class="form-group">
                    <h2>Records</b></h2>
                </div>
                <form asp-action="SearchBarMethod">



                    <input id="SearchBarEmployee" name="SearchBarEmployee" placeholder="Search by Name" class="form-control" type="text" aria-label="Search" required>



                </form>
                <br />
            </div>


            <div class="col-6 col-md">
                <br /><br />
                <div class="form-group" style="position:relative;">
                    <a href="#addRecordModal" class="btn btn-primary" style="float:right; " data-toggle="modal"><i class="material-icons">&#xE147;</i> <span> New Record</span></a>
                </div>

            </div>


        </div>



        @{ if (Model.Count == 0)
            {
                <div style="margin-left: auto; margin-right: auto; text-align: center;">
                    <h1>No  matches found ! </h1>
                </div>


            }

            else
            {

                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Client</th>
                            <th>Car</th>
                            <th>Date Of Entry</th>
                            <th>Malfunction</th>
                            <th>Mechanic</th>
                            <th> $ </th>

                        </tr>
                    </thead>



                    @{int i = 0;

                        foreach (RecordsDatabaseClassLibrary.RecordsDatabase.IRecordModel individ in Model)
                        {
                                        <tr>
                                            <td>
                                                <span>@(++i)</span>
                                            </td>
                                            <td>
                                                @Html.DisplayFor(Model => individ.Client)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(Model => individ.Car)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(Model => individ.DateOfEntry)
                                            </td>
                                            <th>
                                                @Html.DisplayFor(Model => individ.Malfunction)
                                            </th>

                                            <th>
                                                @Html.DisplayFor(Model => individ.Mechanic)
                                            </th>
                                            <th>
                                                @Html.DisplayFor(Model => individ.Price)
                                            </th>
                                            <td>

                                                <a asp-action="EditRecordButton" title="Edit" asp-route-id="@individ.ID" class="btn btn-primary">Edit </a>
                                                <a class="btn btn-danger" value="Delete" asp-action="DeleteRecordButton" title="Delete" asp-route-id="@individ.ID" onclick="return confirm('Are you sure you wish to delete this ?');">Delete</a>
                                            </td>
                                        </tr>
                        }
                    }



                </table>
            }

            <div style=" margin-left: auto; margin-right: auto; text-align: center; font-style:italic;">

                <h3 style="color:dimgray"> No more </h3>

            </div>


        }




        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />

    </div>

    <style>
        #myBtn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 30px;
            z-index: 99;
            font-size: 18px;
            border: none;
            outline: none;
            background-color: #ffcccc;
            color: white;
            cursor: pointer;
            padding: 15px;
            border-radius: 4px;
        }

            #myBtn:hover {
                background-color: #ff4d4d;
            }
    </style>



    <button onclick="topFunction()" id="myBtn" title="Go to top">Up</button>




    <script>
        //Get the button
        var mybutton = document.getElementById("myBtn");

        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () { scrollFunction() };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }

        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>












    <div id="addRecordModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <form asp-action="AddNewRecordSubmitButton">
                    <div class="modal-header">
                        <h4 class="modal-title">Add Record</h4>

                    </div>
                    <div class="modal-body">

                        <div class="form-group">
                            <label>Client</label>
                            <input name="Client" id="Client" type="text" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>Car</label>
                            <input name="Car" id="Car" type="text" class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label>Date Of Entry</label>
                            <input name="DateOfEntry" id="DateOfEntry" class="form-control" type="text" required>
                        </div>
                        <div class="form-group">
                            <label>Malfunction</label>
                            <input name="Malfunction" id="Malfunction" class="form-control" type="text" required>
                        </div>
                        <div class="form-group">
                            <label>Mechanic</label>
                            <input name="Mechanic" id="Mechanic" class="form-control" type="text" required>
                        </div>
                        <div class="form-group">
                            <label>Cost </label>
                            <input name="Price" id="Price" class="form-control" type="text" required>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                        <input type="submit" class="btn btn-success" asp-action="AddNewRecordSubmitButton">
                    </div>
                </form>
            </div>
        </div>
    </div>



</body>
